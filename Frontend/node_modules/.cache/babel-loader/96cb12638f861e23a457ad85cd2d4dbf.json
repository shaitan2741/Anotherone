{"ast":null,"code":"var _jsxFileName = \"/Users/lakshyakhetan/development/React/anotherone/src/components/marketTrack.js\";\nimport React, { Component } from 'react';\nimport '../App.css';\nimport StockUtils from '../StockManagement/StockUtils';\nimport Cards from './card';\nimport { Input } from 'reactstrap';\nimport Chart from './chart';\nimport Loading from './Loader';\nimport StockTable from '../StockManagement/StockTable';\nimport ManageNews from '../NewsManagement/ManageNews';\nimport NewsUtils from '../NewsManagement/sampleNewsUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MarketTrack extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        loading: true\n      });\n      this.handleClick(true);\n      this.handleChartTable(true);\n      var symbol = event.target.value;\n      var symbol1 = symbol.slice(0, -3);\n      console.log('what', symbol);\n      var i;\n      var k;\n      var index;\n      var cur;\n      var j;\n\n      for (i = 0; i < symbol1.length; i++) {\n        if (symbol1[i] === '-') {\n          if (symbol1[i + 4] === ':') {\n            k = i + 4;\n            break;\n          } else {\n            index = i;\n            k = i;\n            break;\n          }\n        }\n      }\n\n      for (j = 0; j < symbol.length; j++) {\n        if (symbol[j] === ')') {\n          cur = j;\n          break;\n        }\n      } //callback function......\n\n\n      this.setState({\n        stock_Name: symbol1.substring(i + 1),\n        display_name: symbol1.substring(0, i),\n        initial_Name: symbol1.substring(k + 1),\n        currency_ini: symbol[j - 1]\n      }, () => {\n        this.Stocker();\n        this.getNews();\n        console.log(\"state\", this.state.stock_Name);\n      });\n    };\n\n    this.state = {\n      Stock: StockUtils,\n      News: NewsUtils,\n      x_val: [],\n      y_val: [],\n      closed: [],\n      high: [],\n      low: [],\n      wholeLow: [],\n      wholeHigh: [],\n      wholeClose: [],\n      articles: [],\n      currency_ini: '$',\n      presetLow: [],\n      stock_Name: 'FB',\n      initial_Name: 'FB',\n      loading: true,\n      presentDate: '',\n      stockWhole: [],\n      display_name: 'Facebook Inc.'\n    };\n  }\n\n  handleClick(val) {\n    this.setState({\n      showMore: !val\n    });\n  }\n\n  handleChartTable(val) {\n    this.setState({\n      showMoreChart: !val\n    });\n  }\n\n  componentDidMount() {\n    this.Stocker();\n    this.getNews();\n  }\n\n  Stocker() {\n    const pointerToThis = this; // console.log(pointerToThis);\n\n    const API_Key = 'X662IPBO4D3M25MX';\n    const Stock_Symbol = this.state.stock_Name;\n    console.log(Stock_Symbol); //we are using backtick so that we can copy API directly here by putting in it\n\n    let API_Call = `https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${Stock_Symbol}&outputsize=compact&apikey=${API_Key}`;\n    let stocksXval = [];\n    let stocksYval = [];\n    let presentDate = [];\n    let wholeHigh = [];\n    let wholeLow = [];\n    let wholeClose = [];\n    fetch(API_Call).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var x = 1;\n      console.log(data); // this.setState({loading:true});\n\n      for (var key in data['Time Series (Daily)']) {\n        stocksXval.push(key);\n        stocksYval.push(data['Time Series (Daily)'][key]['1. open']);\n        wholeHigh.push(data['Time Series (Daily)'][key]['2. high']);\n        wholeLow.push(data['Time Series (Daily)'][key]['3. low']);\n        wholeClose.push(data['Time Series (Daily)'][key]['4. close']);\n\n        if (x >= 1) {\n          presentDate.push(key);\n          x = x - 1;\n        }\n      }\n\n      console.log('dates are here', stocksXval);\n      pointerToThis.setState({\n        x_val: stocksXval,\n        y_val: stocksYval,\n        presentDate: presentDate,\n        wholeHigh: wholeHigh,\n        wholeLow: wholeLow,\n        wholeClose: wholeClose,\n        loading: false\n      });\n    });\n  }\n\n  getNews() {\n    const Stock_Name = this.state.initial_Name;\n    console.log('Given News Name::', Stock_Name);\n    let API_Call = `https://gnews.io/api/v4/search?q=${Stock_Name}&country=us&token=1a09b0dcb1c66a5b7f6e463a0f17aa60`;\n    console.log(\"myAPI\", API_Call);\n    fetch(API_Call).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log('response to what', data);\n      this.setState({\n        articles: data.articles\n      });\n    }).catch(error => {\n      if (error) {\n        console.log(\"error is coming\");\n        this.setState({\n          articles: NewsUtils\n        });\n      }\n    });\n  }\n\n  render() {\n    console.log(\"Gnews is here\", this.state.articles);\n    const {\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jumbotron jumbotron-fluid bg-dark text-light\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"display-3\",\n            children: \"React Stock Market\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lead\",\n            children: \"A simple stock market API app hello\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col input-group\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                className: \"inputBrand\",\n                type: \"select\",\n                name: \"carbrand\",\n                id: \"carBrand\",\n                onChange: this.handleChange,\n                style: {\n                  background_color: 'red'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Please select a stock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 45\n                }, this), StockUtils.map(data => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: [data.name, \"-\", data.symbol, \"(\", data.currency, \")\"]\n                  }, data.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 52\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-7 col-xs-12 col-sm-12 graph_container \",\n            children: loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 39\n            }, this) : /*#__PURE__*/_jsxDEV(Chart, {\n              x_axis: this.state.x_val,\n              y_axis: this.state.y_val,\n              loader: this.state.loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 52\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-5 col-sm-12 \",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                align: 'left',\n                color: \"white\",\n                style: 'underline'\n              },\n              children: this.state.display_name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                background: \"grey\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 45\n            }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 55\n            }, this) : /*#__PURE__*/_jsxDEV(Cards, {\n              open: this.state.y_val,\n              close: this.state.wholeClose,\n              high: this.state.wholeHigh,\n              low: this.state.wholeLow,\n              date: this.state.presentDate,\n              currency: this.state.currency_ini\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 68\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                background: \"grey\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container1\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row mt-4x\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-7 col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"font-italic text-white text-uppercase\",\n                  style: {\n                    fontStyle: 'italic',\n                    paddingBottom: \"10px\"\n                  },\n                  children: \"Trends\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 29\n                }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 38\n                }, this) : /*#__PURE__*/_jsxDEV(StockTable, {\n                  openVal: this.state.y_val,\n                  closeVal: this.state.wholeClose,\n                  highVal: this.state.wholeHigh,\n                  dateVal: this.state.x_val,\n                  lowVal: this.state.wholeLow,\n                  currency: this.state.currency_ini\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 50\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-5 col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container-fluid\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-white text-uppercase \",\n                  style: {\n                    paddingLeft: \"20px\",\n                    fontStyle: 'italic',\n                    paddingBottom: \"10px\"\n                  },\n                  children: \"News\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 29\n                }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 35\n                }, this) : /*#__PURE__*/_jsxDEV(ManageNews, {\n                  news: this.state.articles\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 47\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MarketTrack;","map":{"version":3,"sources":["/Users/lakshyakhetan/development/React/anotherone/src/components/marketTrack.js"],"names":["React","Component","StockUtils","Cards","Input","Chart","Loading","StockTable","ManageNews","NewsUtils","MarketTrack","constructor","props","handleChange","event","setState","loading","handleClick","handleChartTable","symbol","target","value","symbol1","slice","console","log","i","k","index","cur","j","length","stock_Name","substring","display_name","initial_Name","currency_ini","Stocker","getNews","state","Stock","News","x_val","y_val","closed","high","low","wholeLow","wholeHigh","wholeClose","articles","presetLow","presentDate","stockWhole","val","showMore","showMoreChart","componentDidMount","pointerToThis","API_Key","Stock_Symbol","API_Call","stocksXval","stocksYval","fetch","then","response","json","data","x","key","push","Stock_Name","catch","error","render","background_color","map","name","currency","id","align","color","style","background","fontStyle","paddingBottom","paddingLeft"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../App.css';\nimport StockUtils from '../StockManagement/StockUtils';\nimport Cards from './card';\nimport {Input} from 'reactstrap';\nimport Chart from './chart';\nimport Loading from './Loader';\nimport StockTable from '../StockManagement/StockTable';\nimport ManageNews from '../NewsManagement/ManageNews';\nimport NewsUtils from '../NewsManagement/sampleNewsUtils';\n\n\nclass MarketTrack extends Component {\n    constructor(props) {\n        super(props);\n        this.state={\n            Stock:StockUtils,\n            News:NewsUtils,\n            x_val:[],\n            y_val:[],\n            closed:[],\n            high:[],\n            low:[],\n            wholeLow:[],\n            wholeHigh:[],\n            wholeClose:[],\n            articles:[],   \n            currency_ini:'$',                                                             \n            presetLow:[],\n            stock_Name:'FB',\n            initial_Name:'FB',\n            loading:true,\n            presentDate:'',\n            stockWhole:[],\n            display_name:'Facebook Inc.'\n            \n        }\n\n    }\n    handleClick(val) {\n        this.setState({showMore: !val})\n    }\n    handleChartTable(val){\n        this.setState({showMoreChart: !val})\n    }\n\n\n    handleChange = (event) => {\n        this.setState({loading:true})\n        this.handleClick(true);\n        this.handleChartTable(true);\n        var symbol=event.target.value;\n        var symbol1=symbol.slice(0,-3);\n        console.log('what',symbol);\n        var i;\n        var k;\n        var index;\n        var cur;\n        var j;\n        for(i=0;i<symbol1.length;i++){\n            if(symbol1[i]==='-'){\n                if(symbol1[i+4]===':'){\n                    k=i+4;\n                    break;\n                }\n                else{\n                    index=i;\n                    k=i\n                    break;\n                }\n                \n            }\n        }\n        for(j=0;j<symbol.length;j++){\n            if(symbol[j]===')'){\n                cur=j;\n                break;\n            }\n        }\n\n        //callback function......\n        this.setState({\n            stock_Name: symbol1.substring(i+1),\n            display_name:symbol1.substring(0,i),\n            initial_Name: symbol1.substring(k+1),\n            currency_ini:symbol[j-1],\n        }, () => {\n            this.Stocker()\n            this.getNews()\n            console.log(\"state\",this.state.stock_Name);\n        })\n    };\n\n    componentDidMount(){\n        this.Stocker();\n        this.getNews();\n\n\n    }\n\n    Stocker(){\n        const pointerToThis =this;\n        // console.log(pointerToThis);\n        const API_Key='X662IPBO4D3M25MX';\n        const Stock_Symbol=this.state.stock_Name;\n        console.log(Stock_Symbol);\n        //we are using backtick so that we can copy API directly here by putting in it\n        let API_Call=`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${Stock_Symbol}&outputsize=compact&apikey=${API_Key}`;\n        let stocksXval=[];\n        let stocksYval=[];\n        let presentDate=[];\n        let wholeHigh=[];\n        let wholeLow=[];\n        let wholeClose=[];\n\n        fetch(API_Call)\n            .then(\n                function(\n                    response){\n                        return response.json();\n                })\n            .then(\n                function(data){\n                    var x=1;\n                    console.log(data);\n                    // this.setState({loading:true});\n                    for (var key in data['Time Series (Daily)']){\n                        stocksXval.push(key);\n                        stocksYval.push(\n                            data['Time Series (Daily)'][key]['1. open']\n                            );\n                            wholeHigh.push(\n                                data['Time Series (Daily)'][key]['2. high']\n                                );\n                                wholeLow.push(\n                                    data['Time Series (Daily)'][key]['3. low']\n                                    );\n                                    wholeClose.push(\n                                        data['Time Series (Daily)'][key]['4. close']\n                                        );\n\n                            if(x>=1){\n                                presentDate.push(key)\n                                    x=x-1\n                            }\n                    }\n\n\n                    console.log('dates are here',stocksXval);\n                    pointerToThis.setState({\n                        x_val:stocksXval,\n                        y_val:stocksYval,\n                        presentDate:presentDate,\n                        wholeHigh:wholeHigh,\n                        wholeLow:wholeLow,\n                        wholeClose:wholeClose,\n                        loading:false,\n                    })\n                }\n            )\n    }\n\n    getNews(){\n        const Stock_Name=this.state.initial_Name;\n        console.log('Given News Name::',Stock_Name);\n        let API_Call=`https://gnews.io/api/v4/search?q=${Stock_Name}&country=us&token=1a09b0dcb1c66a5b7f6e463a0f17aa60`;\n        console.log(\"myAPI\",API_Call)\n\n        fetch(API_Call)\n        .then(\n                    (\n                        response)=>{\n                            return response.json();\n                    })\n                .then((data)=>{\n                    console.log('response to what',data);\n                    this.setState({\n                        articles: data.articles\n                    })\n    \n                })\n                .catch((error)=>{\n                    if(error){\n                        console.log(\"error is coming\")\n                        this.setState({\n                            articles:NewsUtils\n                        })\n                    }\n                }\n                )\n    \n    }\n    \n\n    render() {\n            console.log(\"Gnews is here\",this.state.articles)\n        const{loading} =this.state\n        \n        return (\n\n            <div>\n\n            {/* creating a jumbotron for searching stock */}\n                <div className=\"jumbotron jumbotron-fluid bg-dark text-light\">\n                    <div className=\"container\">\n                        <h2 className=\"display-3\">React Stock Market</h2>\n                            <p className=\"lead\">A simple stock market API app hello</p>\n                                <div className=\"row\">\n                                    <div className=\"col input-group\">\n                                        <Input className=\"inputBrand\" type=\"select\" name=\"carbrand\" id=\"carBrand\" onChange={this.handleChange} style={{background_color:'red'}} >\n                                            <option>Please select a stock</option>\n                                            {StockUtils.map((data) => {\n                                            return <option key={data.id}>{data.name}-{data.symbol}({data.currency})</option>\n                                            })}\n                                        </Input>\n                                    </div>\n                                </div>\n                                <br />\n                    </div>\n                </div>\n\n                \n                <br />\n                <div className=\"container\" >\n                    <div className=\"row \">\n                        <div className=\"col-md-7 col-xs-12 col-sm-12 graph_container \" >\n                            {loading ?<Loading /> :<Chart x_axis={this.state.x_val} y_axis={this.state.y_val} loader={this.state.loading}  />}\n                        </div>\n\n                    <div className=\"col-md-5 col-sm-12 \">\n                        <h2 style={{align: 'left' ,color:\"white\",style:'underline'}}>{this.state.display_name}</h2>\n\n                                            <hr  style={{background: \"grey\",}} />\n                                            {loading ?<Loading /> :<Cards  open={this.state.y_val} close={this.state.wholeClose} high={this.state.wholeHigh} low={this.state.wholeLow} date={this.state.presentDate} currency={this.state.currency_ini} />}\n                                            <hr style={{background: \"grey\"}}></hr>\n                    </div>\n                </div>\n\n                <div className=\"container1\">\n                <br/>\n                \n                <div className=\"row mt-4x\">\n                    <div className=\"col-md-7 col-sm-12\">\n                        <div className=\"container\">\n                        <div className=\"col-md-2\"></div>\n                        \n                            <h2 className=\"font-italic text-white text-uppercase\" style={{fontStyle:'italic',paddingBottom:\"10px\"}}>Trends</h2>\n                            {loading?<Loading />:<StockTable openVal={this.state.y_val} closeVal={this.state.wholeClose} highVal={this.state.wholeHigh} dateVal={this.state.x_val} lowVal={this.state.wholeLow} currency={this.state.currency_ini} />}\n                        </div>\n                    </div>\n                    <div className=\"col-md-5 col-sm-12\">\n                            <div className=\"container-fluid\">\n                            <h2 className=\"text-white text-uppercase \" style={{paddingLeft:\"20px\",fontStyle:'italic',paddingBottom:\"10px\"}}>News</h2>\n                        {loading ?<Loading />:<ManageNews news={this.state.articles}/>}\n                        </div>\n                    </div>\n                    \n\n                </div>\n                            </div>\n                            \n                            </div>\n\n                \n                    </div>\n\n            \n);\n        }\n}\nexport default MarketTrack;\n"]},"metadata":{},"sourceType":"module"}