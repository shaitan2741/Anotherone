{"ast":null,"code":"var _jsxFileName = \"/Users/lakshyakhetan/development/React/anotherone/src/components/marketTrack.js\";\nimport React, { Component } from 'react';\nimport StockUtils from '../StockManagement/StockUtils';\nimport Cards from './card';\nimport { Input } from 'reactstrap';\nimport Chart from './chart';\nimport Loading from './Loader';\nimport StockTable from '../StockManagement/StockTable';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass MarketTrack extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({\n        loading: true\n      });\n      this.handleClick(true);\n      this.handleChartTable(true);\n      var symbol = event.target.value;\n      console.log('what', symbol);\n      var i;\n      var index;\n\n      for (i = 0; i < symbol.length; i++) {\n        if (symbol[i] === '-') {\n          index = i;\n          break;\n        }\n      } //callback function......\n\n\n      this.setState({\n        stock_Name: symbol.substring(index + 1),\n        initial_Name: symbol.substring(0, index)\n      }, () => {\n        this.Stocker();\n        this.getNews();\n        console.log(\"state\", this.state.stock_Name);\n      });\n    };\n\n    this.state = {\n      Stock: StockUtils,\n      x_val: [],\n      y_val: [],\n      closed: [],\n      high: [],\n      low: [],\n      wholeLow: [],\n      wholeHigh: [],\n      wholeClose: [],\n      articles: [],\n      presetLow: [],\n      stock_Name: 'FB',\n      initial_Name: 'Facebook Inc.',\n      loading: true,\n      presentDate: '',\n      stockWhole: [],\n      showMore: false,\n      showMoreChart: false\n    };\n  }\n\n  handleClick(val) {\n    this.setState({\n      showMore: !val\n    });\n  }\n\n  handleChartTable(val) {\n    this.setState({\n      showMoreChart: !val\n    });\n  }\n\n  componentDidMount() {\n    this.Stocker();\n    this.getNews();\n  }\n\n  Stocker() {\n    const pointerToThis = this; // console.log(pointerToThis);\n\n    const API_Key = 'X662IPBO4D3M25MX';\n    const Stock_Symbol = this.state.stock_Name;\n    console.log(Stock_Symbol); //we are using backtick so that we can copy API directly here by putting in it\n\n    let API_Call = `https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${Stock_Symbol}&outputsize=compact&apikey=${API_Key}`;\n    let stocksXval = [];\n    let stocksYval = [];\n    let presentDate = [];\n    let wholeHigh = [];\n    let wholeLow = [];\n    let wholeClose = [];\n    fetch(API_Call).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      var x = 1;\n      console.log(data); // this.setState({loading:true});\n\n      for (var key in data['Time Series (Daily)']) {\n        stocksXval.push(key);\n        stocksYval.push(data['Time Series (Daily)'][key]['1. open']);\n        wholeHigh.push(data['Time Series (Daily)'][key]['2. high']);\n        wholeLow.push(data['Time Series (Daily)'][key]['3. low']);\n        wholeClose.push(data['Time Series (Daily)'][key]['4. close']);\n\n        if (x >= 1) {\n          presentDate.push(key);\n          x = x - 1;\n        }\n      }\n\n      console.log('dates are here', stocksXval);\n      pointerToThis.setState({\n        x_val: stocksXval,\n        y_val: stocksYval,\n        presentDate: presentDate,\n        wholeHigh: wholeHigh,\n        wholeLow: wholeLow,\n        wholeClose: wholeClose,\n        loading: false\n      });\n    });\n  }\n\n  getNews() {\n    const Stock_Name = this.state.initial_Name;\n    console.log('Given News Name::', Stock_Name);\n    let API_Call = `https://newsapi.org/v2/everything?q=${Stock_Name}&from=2021-05-04&sortBy=publishedAt&apiKey=baf4396703464b8085fcd093288b7a76`;\n    fetch(API_Call).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log('response to what', data);\n      this.setState({\n        articles: data.articles\n      });\n    });\n  }\n\n  render() {\n    const {\n      loading\n    } = this.state;\n    const newsElement = this.state.articles;\n    const numberOfItems = this.state.showMore ? newsElement.length : 8;\n    const dateVal = this.state.x_val;\n    const noOfDate = this.state.showMoreChart ? dateVal.length : 21;\n    const openVal = this.state.y_val;\n    const noOfOpen = this.state.showMoreChart ? openVal.length : 21;\n    const highVal = this.state.wholeHigh;\n    const noOfHigh = this.state.showMoreChart ? highVal.length : 21;\n    const lowVal = this.state.wholeLow;\n    const noOfLow = this.state.showMoreChart ? lowVal.length : 21;\n    const closeVal = this.state.wholeClose;\n    const noOfClose = this.state.showMoreChart ? closeVal.length : 21;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jumbotron jumbotron-fluid bg-dark text-light\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"display-3\",\n            children: \"React Stock Market\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lead\",\n            children: \"A simple stock market API app hello\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col input-group\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                className: \"inputBrand\",\n                type: \"select\",\n                name: \"carbrand\",\n                id: \"carBrand\",\n                onChange: this.handleChange,\n                style: {\n                  background_color: 'red'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: \"Please select a stock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 45\n                }, this), StockUtils.map(data => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    children: [data.name, \"-\", data.symbol]\n                  }, data.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 199,\n                    columnNumber: 52\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-7  col-sm-12 \",\n            children: loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 39\n            }, this) : /*#__PURE__*/_jsxDEV(Chart, {\n              x_axis: this.state.x_val,\n              y_axis: this.state.y_val,\n              loader: this.state.loading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 52\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-5 col-sm-12 \",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              style: {\n                align: 'left',\n                color: \"white\",\n                style: 'underline'\n              },\n              children: this.state.initial_Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                background: \"grey\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 45\n            }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 55\n            }, this) : /*#__PURE__*/_jsxDEV(Cards, {\n              open: this.state.y_val,\n              close: this.state.wholeClose,\n              high: this.state.wholeHigh,\n              low: this.state.wholeLow,\n              date: this.state.presentDate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 68\n            }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n              style: {\n                background: \"grey\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container1\",\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-7 col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container-fluid\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"font-italic text-white text-capatilize \",\n                  children: \"Trends\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(StockTable, {\n                  openVal: this.state.y_val,\n                  closeVal: this.state.wholeClose,\n                  highVal: this.state.wholeHigh,\n                  dateVal: this.state.x_val,\n                  lowVal: this.state.wholeLow\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-5 col-sm-12\",\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-white text-capatilize  \",\n                children: \"News\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default MarketTrack;","map":{"version":3,"sources":["/Users/lakshyakhetan/development/React/anotherone/src/components/marketTrack.js"],"names":["React","Component","StockUtils","Cards","Input","Chart","Loading","StockTable","MarketTrack","constructor","props","handleChange","event","setState","loading","handleClick","handleChartTable","symbol","target","value","console","log","i","index","length","stock_Name","substring","initial_Name","Stocker","getNews","state","Stock","x_val","y_val","closed","high","low","wholeLow","wholeHigh","wholeClose","articles","presetLow","presentDate","stockWhole","showMore","showMoreChart","val","componentDidMount","pointerToThis","API_Key","Stock_Symbol","API_Call","stocksXval","stocksYval","fetch","then","response","json","data","x","key","push","Stock_Name","render","newsElement","numberOfItems","dateVal","noOfDate","openVal","noOfOpen","highVal","noOfHigh","lowVal","noOfLow","closeVal","noOfClose","background_color","map","name","id","align","color","style","background"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport StockUtils from '../StockManagement/StockUtils';\nimport Cards from './card';\nimport {Input} from 'reactstrap';\nimport Chart from './chart';\nimport Loading from './Loader';\nimport StockTable from '../StockManagement/StockTable';\n\n\nclass MarketTrack extends Component {\n    constructor(props) {\n        super(props);\n        this.state={\n            Stock:StockUtils,\n            x_val:[],\n            y_val:[],\n            closed:[],\n            high:[],\n            low:[],\n            wholeLow:[],\n            wholeHigh:[],\n            wholeClose:[],\n            articles:[],                                                                \n            presetLow:[],\n            stock_Name:'FB',\n            initial_Name:'Facebook Inc.',\n            loading:true,\n            presentDate:'',\n            stockWhole:[],\n            showMore: false,\n            showMoreChart:false,\n        }\n\n    }\n    handleClick(val) {\n        this.setState({showMore: !val})\n    }\n    handleChartTable(val){\n        this.setState({showMoreChart: !val})\n    }\n\n\n    handleChange = (event) => {\n        this.setState({loading:true})\n        this.handleClick(true);\n        this.handleChartTable(true);\n        var symbol=event.target.value;\n        console.log('what',symbol);\n        var i;\n        var index;\n        for(i=0;i<symbol.length;i++){\n            if(symbol[i]==='-'){\n                index=i;\n                break;\n            }\n        }\n        //callback function......\n        this.setState({\n            stock_Name: symbol.substring(index+1),\n            initial_Name: symbol.substring(0,index)\n        }, () => {\n            this.Stocker()\n            this.getNews()\n            console.log(\"state\",this.state.stock_Name);\n        })\n    };\n\n    componentDidMount(){\n        this.Stocker();\n        this.getNews();\n\n\n    }\n\n    Stocker(){\n        const pointerToThis =this;\n        // console.log(pointerToThis);\n        const API_Key='X662IPBO4D3M25MX';\n        const Stock_Symbol=this.state.stock_Name;\n        console.log(Stock_Symbol);\n        //we are using backtick so that we can copy API directly here by putting in it\n        let API_Call=`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY_ADJUSTED&symbol=${Stock_Symbol}&outputsize=compact&apikey=${API_Key}`;\n        let stocksXval=[];\n        let stocksYval=[];\n        let presentDate=[];\n        let wholeHigh=[];\n        let wholeLow=[];\n        let wholeClose=[];\n\n        fetch(API_Call)\n            .then(\n                function(\n                    response){\n                        return response.json();\n                })\n            .then(\n                function(data){\n                    var x=1;\n                    console.log(data);\n                    // this.setState({loading:true});\n                    for (var key in data['Time Series (Daily)']){\n                        stocksXval.push(key);\n                        stocksYval.push(\n                            data['Time Series (Daily)'][key]['1. open']\n                            );\n                            wholeHigh.push(\n                                data['Time Series (Daily)'][key]['2. high']\n                                );\n                                wholeLow.push(\n                                    data['Time Series (Daily)'][key]['3. low']\n                                    );\n                                    wholeClose.push(\n                                        data['Time Series (Daily)'][key]['4. close']\n                                        );\n\n                            if(x>=1){\n                                presentDate.push(key)\n                                    x=x-1\n                            }\n                    }\n\n\n                    console.log('dates are here',stocksXval);\n                    pointerToThis.setState({\n                        x_val:stocksXval,\n                        y_val:stocksYval,\n                        presentDate:presentDate,\n                        wholeHigh:wholeHigh,\n                        wholeLow:wholeLow,\n                        wholeClose:wholeClose,\n                        loading:false,\n                    })\n                }\n            )\n    }\n\n    getNews(){\n        const Stock_Name=this.state.initial_Name;\n        console.log('Given News Name::',Stock_Name);\n        let API_Call=`https://newsapi.org/v2/everything?q=${Stock_Name}&from=2021-05-04&sortBy=publishedAt&apiKey=baf4396703464b8085fcd093288b7a76`\n\n        fetch(API_Call)\n            .then(\n                (\n                    response)=>{\n                        return response.json();\n                })\n            .then((data)=>{\n                console.log('response to what',data);\n                this.setState({\n                    articles: data.articles\n                })\n            })\n\n\n\n    }\n    \n\n    render() {\n\n        const{loading} =this.state\n        const newsElement =this.state.articles;\n        const numberOfItems = this.state.showMore ? newsElement.length : 8;\n\n        const dateVal=this.state.x_val;\n        const noOfDate=this.state.showMoreChart ? dateVal.length :21;\n\n        const openVal=this.state.y_val;\n        const noOfOpen=this.state.showMoreChart ? openVal.length :21;\n\n        const highVal=this.state.wholeHigh;\n        const noOfHigh=this.state.showMoreChart ? highVal.length :21;\n\n        const lowVal=this.state.wholeLow;\n        const noOfLow=this.state.showMoreChart ? lowVal.length :21;\n\n        const closeVal=this.state.wholeClose;\n        const noOfClose=this.state.showMoreChart ? closeVal.length :21;\n\n\n\n\n        return (\n\n            <div>\n\n            {/* creating a jumbotron for searching stock */}\n                <div className=\"jumbotron jumbotron-fluid bg-dark text-light\">\n                    <div className=\"container\">\n                        <h2 className=\"display-3\">React Stock Market</h2>\n                            <p className=\"lead\">A simple stock market API app hello</p>\n                                <div className=\"row\">\n                                    <div className=\"col input-group\">\n                                        <Input className=\"inputBrand\" type=\"select\" name=\"carbrand\" id=\"carBrand\" onChange={this.handleChange} style={{background_color:'red'}} >\n                                            <option>Please select a stock</option>\n                                            {StockUtils.map((data) => {\n                                            return <option key={data.id}>{data.name}-{data.symbol}</option>\n                                            })}\n                                        </Input>\n                                    </div>\n                                </div>\n                                <br />\n                    </div>\n                </div>\n\n                \n                <br />\n                <div className=\"container\" >\n                    <div className=\"row \">\n                        <div className=\"col-md-7  col-sm-12 \" >\n                            {loading ?<Loading /> :<Chart x_axis={this.state.x_val} y_axis={this.state.y_val} loader={this.state.loading}  />}\n                        </div>\n\n                    <div className=\"col-md-5 col-sm-12 \">\n                        <h2 style={{align: 'left' ,color:\"white\",style:'underline'}}>{this.state.initial_Name}</h2>\n\n                                            <hr  style={{background: \"grey\",}} />\n                                            {loading ?<Loading /> :<Cards  open={this.state.y_val} close={this.state.wholeClose} high={this.state.wholeHigh} low={this.state.wholeLow} date={this.state.presentDate} />}\n                                            <hr style={{background: \"grey\"}}></hr>\n                    </div>\n                </div>\n\n                <div className=\"container1\">\n                <br/>\n                \n                <div className=\"row\">\n                    <div className=\"col-md-7 col-sm-12\">\n                    \n                    <div className=\"container-fluid\">\n                    <h2 className=\"font-italic text-white text-capatilize \">Trends</h2>\n                    <StockTable openVal={this.state.y_val} closeVal={this.state.wholeClose} highVal={this.state.wholeHigh} dateVal={this.state.x_val} lowVal={this.state.wholeLow}/>\n                    </div></div>\n                    <div className=\"col-md-5 col-sm-12\"><h2 className=\"text-white text-capatilize  \">News</h2></div>\n\n                </div>\n                \n\n\n                                                \n                {/*\n                        <div classname='container'>\n\n                            <br />\n                                <br />\n\n                            \n                                <div className=\"row mt-4x\">\n                                <div className=\"col-md-7 col-sm-12\">\n                                            <div className=\"row\">\n                                                <div className=\"col-md-6\">\n                                                    <h2 className=\"text-white text-left text-uppercase font-italic mb-4 \">Trends</h2>\n                                                </div>\n                                                <div className=\"col-md-5\">\n                                                    <h3 className=\"text-white text-right text-uppercase mt-3 font-italic\">{this.state.showMoreChart ?<button type=\"button\" class=\"btn btn-primary btn-sm\" onClick={()=> this.handleChartTable(true)}>Show Less</button>:<button button type=\"button\" class=\"btn btn-primary btn-sm\" onClick={()=> this.handleChartTable(false)}>Show more</button> }</h3>\n                                                </div>\n                                                \n                                            </div>\n                                    {/* <TableTrend dates={this.state.x_val} open={this.state.y_val} high={this.state.wholeHigh} low={this.state.wholeLow} close={this.state.wholeClose}/> */}\n                                    {/* {loading ?<Loading />:\n                                    <div className=\"container\">\n\n                                        <div className=\"row\" style={{}}>\n                                            <div className=\"col col-sm-3\" style={{border: '1px solid',padding:'10px',textAlign: 'center'}} >\n                                            <h5 style={{color: 'white' ,textAlign: 'center'}}>Date</h5>\n                                            <hr style={{background: \"grey\"}}/>\n                                            {dateVal.slice(0,noOfDate).map((item) => {\n                                                    return (\n                                                    <div style={{color: 'aqua',padding:'9px',fontSize:\"2vmin\"}}>{item}</div>\n                                                    )\n                                                    })\n                                                }\n                                            </div>\n\n                                            <div className=\"col\" style={{border: '1px solid',padding:'10px',textAlign: 'center'}}>\n                                            <h5 style={{color: 'white' ,textAlign: 'center'}}>open</h5>\n                                            <hr style={{background: \"grey\"}}/>\n                                            {openVal.slice(0,noOfOpen).map((item) => {\n                                                    return (\n                                                    <div style={{color: '#8d93ab', margin:'10',fontSize:\"2vmin\",padding: '9px'}}>{parseFloat(item).toFixed( 2 )}</div>\n                                                    )\n                                                    })\n                                                }\n                                            </div>\n\n                                            <div className=\"col\" style={{border: '1px solid',padding:'9px',textAlign: 'center'}}>\n                                            <h5 style={{color: 'white' ,textAlign: 'center'}}>High</h5>\n                                            <hr style={{background: \"grey\"}}/>\n\n                                            {highVal.slice(0,noOfHigh).map((item) => {\n                                                    return (\n                                                    <div style={{ margin:'10',marginBottom:'100',fontSize:\"2vmin\",padding: '9px',color: '#8d93ab'}}>{parseFloat(item).toFixed( 2 )}</div>\n                                                    )\n                                                    })\n                                                }\n                                            </div>\n\n                                            <div className=\"col\" style={{border: '1px solid',padding:'9px',textAlign: 'center'}}>\n                                            <h5 style={{color: 'white' }}>Low</h5>\n                                            <hr style={{background: \"grey\"}}/>\n                                            {lowVal.slice(0,noOfLow).map((item) => {\n                                                    return (\n                                                    <div style={{color: '#8d93ab', margin:'10',fontSize:\"2vmin\",padding: '9px'}}>{parseFloat(item).toFixed( 2 )}</div>\n                                                    )\n                                                    })\n                                                }\n                                            </div>\n\n                                            <div className=\"col\" style={{border: '1px solid',padding:'9px'}}>\n                                            <h5 style={{color: 'white' ,textAlign: 'center'}}>Close</h5>\n                                            <hr style={{background: \"grey\"}}/>\n                                            {closeVal.slice(0,noOfClose).map((item) => {\n                                                    return (\n                                                    <div style={{color: '#8d93ab',fontSize:\"2vmin\",padding: '9px',textAlign: 'center'}}>{parseFloat(item).toFixed( 2 )}</div>\n                                                    )\n                                                    })\n                                                }\n                                            </div>\n                                        </div>\n\n                    </div>\n                    }\n                        </div>\n                        <manageNews stock_Name={this.state.initial_Name} show_more={this.state.showMore} ></manageNews> */} \n                                {/* <div className=\"col-md-5 col-sm-12\" >\n                                \n                                    <div className=\"row\">\n                                        <div className=\"col-md-6\">\n                                            <h2 className=\"text-white text-left text-uppercase mb-4  font-italic\">News</h2>\n                                        </div>\n                                        <div className=\"col-md-5\">\n                                            <h3 className=\"text-white text-right text-uppercase mt-3 font-italic\">{this.state.showMore ?<button type=\"button\" class=\"btn btn-primary btn-sm\" onClick={()=> this.handleClick(true)}>Show Less</button>:<button type=\"button\" class=\"btn btn-primary btn-sm\" onClick={()=> this.handleClick(false)}>Show More</button>}</h3>\n                                        </div>\n                                    </div>\n                                \n                                    \n                                    {loading ?<Loading />:\n                                    <div className=\"container-fluid\">\n                        {newsElement.slice(0,numberOfItems).map((item,index)=>\n                                        <div className=\"col\" style={{border: \"0.2px solid\", color: \"#ffffff\" ,marginBottom: \"15px\"}}>\n                                            <div className=\"row\">\n                                                <div className=\"col-sm-4 col-xs-4\" >\n                                                    <img src={item.urlToImage} style={{width:'100%',maxHeight:\"100px\",objectFit:'contain',verticalAlign: \"middle\",margin:'10px'}} />\n                                                </div>\n                                                        <div className=\"col-sm-8 col-xs-8\" style={{}} >\n\n                                                            <h6 style={{color: '#dee4e7', textAlign:'justify',padding:'15px',paddingLeft:'0px'}}>{item.title}</h6>\n\n                                                            <p></p>\n                                                        </div>\n                                                        <hr style={{background:'grey'}} />\n                                            </div>\n                                        </div>\n                                                )}\n                                                \n                                            </div>\n                                    };\n                                </div> */}\n                            </div>\n                            \n                            </div>\n\n                \n                    </div>\n\n            \n);\n        }\n}\nexport default MarketTrack;\n"]},"metadata":{},"sourceType":"module"}